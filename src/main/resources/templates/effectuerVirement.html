<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<img th:src="@{/banque.png}" alt="Description de l'image" style="width: 800px; height: 250px;">

<head>
	<meta charset="UTF-8">
	<title>Effectuer un virement</title>
	<link rel="stylesheet" type="text/css" th:href="@{/styles.css}" />
</head>

<body>
	<h3>Effectuer un virement</h3>

	<!-- Afficher les messages d'erreur ou de succès -->
	<div th:if="${error}" class="error-message" th:text="${error}"></div>
	<div th:if="${success}" class="success-message" th:text="${success}"></div>

	<form th:action="@{/effectuerVirement}" method="post">
		<table>
			<tr>
				<td><label for="adresseEmailBeneficiaire">Sélectionnez un ami :</label></td>
				<td>
					<select name="adresseEmailBeneficiaire" required>
						<option value="" disabled selected>Liste des amis</option>
						<!-- Utilisez Thymeleaf pour boucler à travers la liste des amis -->
						<option th:each="ami : ${amis}" th:value="${ami.adresseEmail}" th:text="${ami.adresseEmail}">
						</option>
					</select>
				</td>
			</tr>
			<tr>
				<td><label for="montant">Montant du virement :</label></td>
				<td><input type="number" step="0.01" name="montant" required /></td>
			</tr>
			 <tr>
            <td><label for="description">Description du virement :</label></td>
            <td><textarea name="description" rows="3" cols="40" required></textarea></td>
        </tr>
			<tr>
				<td colspan="2"><button type="submit">Effectuer le virement</button></td>
			</tr>
		</table>
	</form>
	<!-- Lien pour revenir à home.html -->
	<a th:href="@{/home}">Retour à la page d'accueil</a>
</body>

</html>
